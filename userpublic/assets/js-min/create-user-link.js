jQuery(document).ready(function(t){var i=t("#J-select-link-valid");defaultPrizeGroup=+defaultPrizeGroup;var e={},u={},r={};if(isEdit)for(var a=0,l=currentPrizeGroup.length;l>a;a++){var n=currentPrizeGroup[a];r[n.series_id]=n.prize_group}t("#J-link-bonusgroup-detail").click(function(){var i=t(this),e=i.attr("data-path"),u=t.trim(t("#J-input-custom-bonus-value").val()),r=t("#J-input-custom-type").val(),a=t("#J-input-custom-id").val(),l=e+"?gametype="+r+"&gameid="+a+"&bonus="+u;i.attr("href",l)}),t("#J-panel-group").on("click",".button-selectGroup",function(){var i=t(this),e=t.trim(i.attr("data-groupid"));t("#J-input-groupid").val(e),t("#J-panel-group").find("a").removeClass("btn-success"),t("#J-panel-group").find("a").text("选 择"),i.addClass("btn-success"),i.text("已选择")}),t("#J-group-gametype-panel").on("click",".item-game",function(i){var e=t(this),u=t.trim(e.attr("data-itemtype")),r=t.trim(e.attr("data-id"));s(u,r),t("#J-group-gametype-panel").find("a.item-game").removeClass("btn-success"),e.addClass("btn-success"),i.preventDefault()});var s=function(i,e){var u=t("#J-input-custom-type"),a=t("#J-input-custom-id");"all"==i?(u.val(e),a.val("")):(u.val(""),a.val(e)),iCurPrizeGroup=r[e]||"",p.slider({min:sliderCfg.min,max:sliderCfg.max,step:sliderCfg.step,value:isEdit?iCurPrizeGroup:defaultPrizeGroup}),t("#slider-min").text(sliderCfg.min),t("#slider-max").text(sliderCfg.max),t("#J-input-custom-bonus-value").val(defaultPrizeGroup)},o=function(){var i=t("#J-input-custom-id").val(),r=t("#J-input-custom-type").val();return r||i?(r&&(u[r]=p.slider("value")),void(i&&(e[i]=p.slider("value")))):!1},p=t("#slider");p.length>0&&p.slider({min:sliderCfg.min,max:sliderCfg.max,step:sliderCfg.step,value:defaultPrizeGroup,orientation:"horizontal",range:"min",slide:function(i,e){t("#J-input-custom-bonus-value").val(e.value)},change:function(i,e){t("#J-input-custom-bonus-value").val(e.value),o()}}),t("#J-input-custom-bonus-value").blur(function(){var i=t.trim(this.value),e=1,u=1;i=i.replace(/[^\d]/g,""),i=Number(i),e=Math.ceil(i/u),i=e*u,this.value=i,p.slider("value",i)}).keyup(function(){this.value=this.value.replace(/[^\d]/g,"")}),t("#J-slider-num-min").click(function(){var t=+p.slider("option","step"),i=+p.slider("value");p.slider("option","value",i-t)}),t("#J-slider-num-max").click(function(){var t=+p.slider("option","step"),i=+p.slider("value");p.slider("option","value",i+t)}),t("#J-button-submit").click(function(r){r.preventDefault();var a=(t.trim(i.val()),t("#J-panel-cont").find("li.active").index()+1);t("#J-input-group-type").val(a);var l=t.trim(t("#J-input-group-type").val()),n=JSON.stringify(e),s=JSON.stringify(u);if("{}"!=n&&t("#J-input-lottery-json").val(n),"{}"!=s&&t("#J-input-series-json").val(s),"1"==l){if(""==t.trim(t("#J-input-groupid").val()))return alert("请选择一个奖金组套餐"),!1}else if(""==t.trim(t("#J-input-custom-type").val())&&""==t.trim(t("#J-input-custom-id").val()))return alert("请选择一个游戏或者彩种进行设置"),!1;t("#J-form").submit()})});