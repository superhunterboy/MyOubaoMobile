!function(n,e,o,a){var t={minBound:10,maxBound:100,rangeBound:[],value:50,step:5,isUpOnly:!1,isDownOnly:!1,parentDom:null},m={init:function(n){var e=this;e.parentDom=a(n.parentDom),e.parentDom.length?(e.minDom=a(n.minDom,e.parentDom),e.maxDom=a(n.maxDom,e.parentDom),e.contDom=a(n.contDom,e.parentDom),e.handleDom=a(n.handleDom,e.parentDom),e.innerDom=a(n.innerDom,e.parentDom),e.minNumDom=a(n.minNumDom,e.parentDom),e.maxNumDom=a(n.maxNumDom,e.parentDom)):(e.minDom=a(n.minDom),e.maxDom=a(n.maxDom),e.contDom=a(n.contDom),e.handleDom=a(n.handleDom),e.innerDom=a(n.innerDom),e.minNumDom=a(n.minNumDom),e.maxNumDom=a(n.maxNumDom)),e.rangeBound=[n.rangeBound[0]||n.minBound,n.rangeBound[1]||n.maxBound],e.rangeBound[0]<n.minBound&&(e.rangeBound[0]=n.minBound),e.rangeBound[1]>n.maxBound&&(e.rangeBound[1]=n.maxBound),e.minBound=n.minBound,e.maxBound=n.maxBound,e.width=e.contDom.width()-e.handleDom.width(),e.step=n.step,e.isDrag=!1,e.dragX=0,e.dragLeft=0,e.value=n.value,e.minNumDom.text(e.minBound),e.maxNumDom.text(e.maxBound),e.initEvent(),e.defaultValue=n.value,e.setValue(e.value)},getDom:function(){return this.parentDom},getPosByValue:function(n){var e=this,n=Number(n)-e.minBound,o=0;return o=n/(e.maxBound-e.minBound)*e.width},getValueByPos:function(n){var e=this,n=Number(n),o=0;return o=n/e.width*(e.maxBound-e.minBound),Math.ceil(o+e.minBound)},initEvent:function(){var n,e,t=this;t.handleDom.mousedown(function(m){t.isDrag=!0,t.dragX=m.clientX,t.dragLeft=parseInt(t.handleDom.css("left")),t.handleDom.get(0).setCapture?t.handleDom.get(0).setCapture():window.captureEvents&&window.captureEvents(o.MOUSEMOVE|o.MOUSEUP),a(document).bind("mousemove",n),a(document).bind("mouseup",e)}),t.contDom.click(function(n){var e=n.target||n.srcElement;if(!a(e).is(t.handleDom)){var o=n.pageX-a(this).offset().left;t.setValue(t.getValueByPos(o))}}),n=function(n){var e=0,o=1,a=0;if(t.isDrag){if(e=t.dragLeft+n.clientX-t.dragX,0>e||e>t.width)return;a=t.getValueByPos(e),o=Math.ceil(a/t.step),a=o*t.step,t.setValue(a)}},e=function(){t.isDrag=!1,t.handleDom.get(0).releaseCapture?t.handleDom.get(0).releaseCapture():window.captureEvents&&window.captureEvents(o.MOUSEMOVE|o.MOUSEUP),a(document).unbind("mousemove",n),a(document).unbind("mouseup",e)},t.minDom.click(function(){t.setValue(t.getValue()-t.step)}),t.maxDom.click(function(){t.setValue(parseInt(t.getValue())+t.step)})},reSet:function(n){var e=this;e.minBound="undefined"!=typeof n.minBound?n.minBound:e.minBound,e.maxBound="undefined"!=typeof n.maxBound?n.maxBound:e.maxBound,e.step="undefined"!=typeof n.step?n.step:e.step,e.defaultValue=n.value,e.minNumDom.text(e.minBound),e.maxNumDom.text(e.maxBound),e.setValue(n.value)},setValue:function(n){var e=this,o=e.defConfig,a=0;n=n<e.rangeBound[0]?e.rangeBound[0]:n,n=n>e.rangeBound[1]?e.rangeBound[1]:n,o.isDownOnly&&(n=n>e.defaultValue?e.defaultValue:n),o.isUpOnly&&(n=n<e.defaultValue?e.defaultValue:n),n<=e.rangeBound[0]?e.minDom.addClass("disabled"):e.minDom.removeClass("disabled"),n>=e.rangeBound[1]?e.maxDom.addClass("disabled"):e.maxDom.removeClass("disabled"),e.value=n,a=e.getPosByValue(n),a=0>a?0:a,a=a>e.width?e.width:a,e.setPos(a),e.fireEvent("change")},getValue:function(){return this.value},setDefaultValue:function(n){var e=this;e.defaultValue=n},setPos:function(n){var e=this;n=0>n?0:n,n=n>e.width?e.width:n,e.handleDom.css("left",n),e.innerDom.css("width",n)}},u=n.Class(m,o);u.defConfig=t,n[e]=u}(dsgame,"SliderBar",dsgame.Event,jQuery);