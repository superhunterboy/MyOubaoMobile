/*‮*/!function(e,t,a,n){var r,i={name:t,jsNameSpace:"dsgame.Games.L115."},s=e.Games,o={init:function(){var e=this;e.eventProxy()},getGameConfig:function(){return s[t].Config}},u=e.Class(o,a);u.defConfig=i,u.getInstance=function(e){return r||(r=new u(e))},e.Games[t]=u}(dsgame,"L115",dsgame.Game),function(e,t,a,n){var r,i=gameConfigData,s={},o={},u={};!function(){var e,t,a,n=i.wayGroups;$.each(n,function(){e=this,e.fullname_en=[e.name_en],e.fullname_cn=[e.name_cn],o[""+e.id]=e,e.children&&$.each(e.children,function(){t=this,t.fullname_en=e.fullname_en.concat(t.name_en),t.fullname_cn=e.fullname_cn.concat(t.name_cn),o[""+t.id]=t,t.children&&$.each(t.children,function(){a=this,a.fullname_en=t.fullname_en.concat(a.name_en),a.fullname_cn=t.fullname_cn.concat(a.name_cn),u[""+a.id]=a})})})}();var l={init:function(){},getGameId:function(){return i.gameId},getGameNameEn:function(){return i.gameNameEn},getGameNameCn:function(){return i.gameNameCn},getTraceMaxTimes:function(){return Number(i.traceMaxTimes)},getCurrentLastTime:function(){return i.currentNumberTime},getCurrentTime:function(){return i.currentTime},getCurrentGameNumber:function(){return i.currentNumber},getLastGameNumber:function(){var e=i.issueHistory.last_number.issue,t=i.issueHistory.issues[0].issue;return t>e&&(e=t),e},getLotteryBalls:function(){var e=i.issueHistory.last_number.wn_number,t=i.issueHistory.last_number.issue,a=i.issueHistory.issues[0].issue;return a>t&&(e=i.issueHistory.issues[0].wn_number),e||""},getLotteryNumbers:function(){return i.issueHistory.issues||[]},getFormatLotteryNumbers:function(e,t){var a=this,n={};return t=t||a.getLotteryNumbers(),e=e||"hour",$.each(t,function(t,r){var i=a.getKeyByDateStr(""+r.offical_time,e);i&&(n[i]||(n[i]=[]),n[i].push(r))}),n},getKeyByDateStr:function(e,t){e=e||"0",t=t||"hour";var a=new Date;if(a.setTime(1e3*parseInt(e)),"[object Date]"===Object.prototype.toString.call(a)){if(isNaN(a.getTime()))return"";var n=a.getMonth()+1,r=a.getDate(),i=a.getHours(),s=a.getMinutes();return n<10&&(n="0"+n),r<10&&(r="0"+r),i<10&&(i="0"+i),s<10&&(s="0"+s),"month"==t?n+"月":"day"==t?n+"月"+r+"日":"minute"==t?i+":"+s:i+":00"}return""},getGameNumbers:function(){return i.gameNumbers},getLimitByMethodId:function(e,t){var t=t||1,a=Number(this.getPrizeById(e).max_multiple);return a/t},getSubmitUrl:function(){return i.submitUrl},getUpdateUrl:function(){return i.loaddataUrl},getUploadPath:function(){return i.uploadPath},getJsPath:function(){return i.jsPath},getDefaultMethodId:function(){return i.defaultMethodId},getUserName:function(){return i.username},getMethods:function(){return i.wayGroups},getMethodById:function(e){return u[""+e]},getPrizeById:function(e){return i.prizeSettings[""+e]},getMethodNodeById:function(e){return o[""+e]},getMethodNameById:function(e){var t=this.getMethodById(e);return t?t.name_en:""},getMethodCnNameById:function(e){var t=this.getMethodById(e);return t?t.name_cn:""},getMethodFullNameById:function(e){var t=this.getMethodById(e);return t?t.fullname_en:""},getMethodCnFullNameById:function(e){var t=this.getMethodById(e);return t?t.fullname_cn:""},getOnePriceById:function(e){return Number(this.getMethodById(e).price)},getToken:function(){return i._token},updateConfig:function(e){$.extend(!0,i,e)},getOptionalPrizes:function(){return i.optionalPrizes},setOptionalPrizes:function(){return $("#J-bonus-select-value").val()},getDefaultCoefficient:function(){return i.defaultCoefficient?"1":i.defaultCoefficient},getDefaultMultiple:function(){return i.defaultMultiple?i.defaultMultiple:"1"},getLoadIssueUrl:function(){return i.loadIssueUrl},getMaxPrizeGroup:function(){return i.maxPrizeGroup}},c=e.Class(l,a);c.defConfig=s,c.getInstance=function(e){return r||(r=new c(e))},e.Games.L115[t]=c}(dsgame,"Config",dsgame.Event),function(e,t,a,n){var r,i={},s="L115",o=e.Games,u={init:function(e){var t=this;o.setCurrentGameMessage(t)}},l=e.Class(u,a);l.defConfig=i,l.getInstance=function(e){return r||(r=new l(e))},e.Games[s][t]=l}(dsgame,"Message",dsgame.GameMessage),function(e,t,a,n){var r={name:"wuxing.zhixuan.danshi",editorobj:".content-text-balls",uploadButton:"#file",exampleText:"12345 33456 87898 <br />12345 33456 87898 <br />12345 33456 87898 ",tips:"五星直选单式玩法提示",exampleTip:"这是单式弹出层提示",checkFont:/[\u4E00-\u9FA5]|[\/\n]|[\/W]/g,filtration:/[；|;]+|<br>+|[,|，]+|[\/\n]+/g,checkNum:/^\d{2}$/,normalTips:["说明：","1、每一注号码之间的间隔符支持 回车 逗号[,] 分号[;] 冒号[:] 竖线 [|] 每注内间隔使用空格即可。","2、文件格式必须是.txt格式,大小不超过200KB。","3、将文件拖入文本框即可快速实现文件上传,大文件拖拽上传效果更佳。","4、导入文本内容后将覆盖文本框中现有的内容。","5、一次投注支持100,000注！"].join("\n")},i="L115",s=e.Games,o=e.Games[i],u={init:function(e){var t=this;t.ieRange="",t.vData=[],t.aData=[],t.tData=[],t.errorData=[],t.sameData=[],t.firstfocus=!0,t.ranNumTag=!1,t.isFirstAdd=!0,s.getCurrentGameOrder().addEvent("beforeAdd",function(e,a){t.tData;a.type==t.defConfig.name&&(t.isFirstAdd?t.ranNumTag||(a.lotterys=[],t.isFirstAdd=null,t.updateData(),s.getCurrentGameOrder().add(s.getCurrentGameStatistics().getResultData())):(""==t.errorData.join("")&&""==t.sameData.join("")||t.ballsErrorTip(),t.isFirstAdd=!0))})},initTextarea:function(){var e=this,t="content-textarea-balls-def",a=e.defConfig,n=$.trim(a.normalTips);e.importTextarea=$('<textarea class="content-textarea-balls '+t+'">'+n+"</textarea>"),e.container.find(".panel-select").html("").append(e.importTextarea),e.importTextarea.focus(function(){var a=$.trim(this.value);a==n&&(this.value="",e.importTextarea.removeClass(t))}).blur(function(){var t=$.trim(this.value);""==t&&(e.removeOrderAll(),e.showNormalTips())}).keyup(function(){e.updateData()})},initFrame:function(){var e=this;e.initTextarea(),e.bindPressTextarea(),e.dragUpload()},getExampleText:function(){return this.defConfig.exampleText},rebuildData:function(){var e=this;e.balls=[[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]]},buildUI:function(){var e=this;e.container.html(e.getHTML())},reSelect:function(){},batchSetBallDom:function(){},getNormalTips:function(){return this.defConfig.normalTips},showNormalTips:function(){var e=this,t="content-textarea-balls-def";e.importTextarea&&e.importTextarea.addClass(t),e.replaceText(e.getNormalTips.call(e))},_bulidEditDom:function(){var e=this,t="";e.doc.designMode="On",e.doc.contentEditable=!0,e.doc.open(),t='<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',t+="<style>*{margin:0;padding:0;font-size:14px;}</style>",t+="</head>",e.doc.writeln("<html>"+t+'<body style="word-break: break-all">'+e.getNormalTips()+"</body></html>"),e.doc.close(),e.bindPress(),document.all&&(e.doc.onkeypress=function(){return e._ieEnter()}),e.dragUpload()},dragUpload:function(){var e=this,t=e.importTextarea;window.FileReader&&(t.bind("dragover",function(e){e.preventDefault(),e.stopPropagation()}),t.get(0).addEventListener("drop",function(t){t.preventDefault(),t.stopPropagation();var a=t.dataTransfer.files,n=a[0],r=new FileReader,i=n.type?n.type:"n/a";"text/plain"==i&&(r.onload=function(t){var a=t.target.result;""!=$.trim(a)&&(e.replaceText(a),e.firstfocus=!1,e.updateData())},r.readAsText(n))},!1))},_ieEnter:function(){var e=this,t=e.win.event;if(13==t.keyCode)return this._saveRange(),this._insert("<br/>"),!1},_insert:function(e){var t=this;if(t.ieRange)t.ieRange.pasteHTML(e),t.ieRange.select(),t.ieRange=!1;else if(t.win.focus(),document.all)t.doc.body.innerHTML+=e;else{var a=win.getSelection(),n=a.getRangeAt(0),r=n.createContextualFragment(e);n.insertNode(r)}},_saveRange:function(){if(document.all&&!me.ieRange){var e=me.doc.selection;if(me.ieRange=e.createRange(),"Control"!=e.type){var t=me.ieRange.parentElement();"INPUT"!=t.tagName&&t!=document.body||(me.ieRange=!1)}}},getHtml:function(){var e=this,t=e.importTextarea?e.importTextarea.val():"";return t},replaceText:function(e){var t=this;t.importTextarea&&t.importTextarea.val(e)},bindPressTextarea:function(){var e=this,t=e.container.find(e.defConfig.uploadButton);window.navigator.userAgent.toLowerCase();t.bind("change",function(){var t=$(this).parent();e.checkFile(this,t)})},bindPress:function(){var e=this,t=e.container.find(e.defConfig.uploadButton),a=window.navigator.userAgent.toLowerCase();$(e.doc).bind("input",function(){e.updateData()}),a.indexOf("msie")>0&&($(e.doc.body).bind("keyup",function(){e.updateData()}),$(e.doc.body).bind("blur",function(){e.updateData()})),$(e.doc).bind("focus",function(){e.firstfocus&&(e.replaceText(" "),e.firstfocus=!1)}),$(e.doc).bind("blur",function(){var t=e.getText();""==$.trim(t)?e.showNormalTips():e.updateData()}),$(e.doc.body).bind("focus",function(){e.firstfocus&&(e.replaceText(" "),e.firstfocus=!1)}),$(e.doc.body).bind("blur",function(){var t=e.getText();""==$.trim(t)?e.showNormalTips():e.updateData()}),t.bind("change",function(){var t=$(this).parent();e.checkFile(this,t)})},iterator:function(e){for(var t=this,a=t.defConfig,n=[],r=0,i=0;i<e.length;i++)a.filtration.test(e.charAt(i))&&(n.push(e.substr(r,i-r)),r=i+1);return n},checkResult:function(e,t){for(var a=t.length-1;a>=0;a--)if(t[a].join("")==e.join(""))return!1;return!0},checkBallGroup:function(e){for(var t=e.length-1;t>=0;t--)if(e[t]<1&&e[t]>11)return!0;return!1},checkArrayInnerSame:function(e){var t={};for(var a in e){if(t[e[a]])return!0;t[e[a]]=!0}return!1},checkSingleNum:function(e){var t=this,a=!0;return $.each(e,function(){if(!t.defConfig.checkNum.test(this))return a=!1,!1}),a},filterLotters:function(e){var t=this,a="";return a=e.replace(/|&nbsp;+|\s+/g,""),a=a.replace(/<(?:"[^"]*"|'[^']*'|[^>'"]*)+>/g,","),a=a.replace(t.defConfig.checkFont,"")+",",a=a.replace(/[,;，；:：|]+/gi,",")},checkBallIsComplete:function(e){var t=this,a=0,n=[];for(t.aData=[],t.vData=[],t.sameData=[],t.errorData=[],t.tData=[],n=t.iterator(e);a<n.length;a++)t.checkSingleNum(n[a])?(t.checkResult(n[a],t.tData)?t.tData.push(n[a]):t.checkResult(n[a],t.sameData)&&t.sameData.push(n[a]),t.vData.push(n[a])):t.checkResult(n[a],t.errorData)&&t.errorData.push(n[a]),t.checkResult(n[a],t.aData)&&t.aData.push(n[a]);return t.tData.length>0?(t.isBallsComplete=!0,t.isFirstAdd?t.vData:t.tData):(t.isBallsComplete=!1,[])},iterator:function(e){var t,a=this,n=a.defConfig,r=[],i=[];return e=$.trim(e),e=e.replace(n.filtration,"|"),e=e.replace(/\s+/g," "),e=$.trim(e),i=e.split("|"),$.each(i,function(e){t=$.trim(this),""!=t&&r.push(t.split(" "))}),r},countInstances:function(e,t){var a=[],n=0;do n=e.indexOf(t,n),n!=-1&&(a.push(n),n+=t.length);while(n!=-1);return a},removeOrderError:function(){var e=this,t=[],a=0,n=e.tData.length;for(a=0;a<n;a++)t[a]=e.tData[a].join(" ");t=$.trim(t.join("|")),e.errorDataTips(),e.replaceText(t),e.errorData=[],e.sameData=[],""==t&&e.showNormalTips()},removeOrderSame:function(){var e=this,t=[],a=0,n=e.tData.length;for(a=0;a<n;a++)t[a]=e.tData[a].join(" ");t=$.trim(t.join("|")),e.sameDataTips(),e.replaceText(t),e.errorData=[],e.sameData=[],""==t&&e.showNormalTips()},removeOrderAll:function(){var e=this;e.replaceText(" "),e.sameData=[],e.aData=[],e.tData=[],e.vData=[],s.getCurrentGameStatistics().reSet(),e.showNormalTips()},checkFile:function(e,t){var a=e.value,n=a.substring(a.lastIndexOf("."),a.length),n=n.toLowerCase();if(""!=a)return".txt"!=n?(alert("对不起，导入数据格式必须是.txt格式文件哦，请您调整格式后重新上传，谢谢 ！"),!1):void t[0].submit()},getFile:function(e){var t=this,a=t.container.find(":reset");e&&(t.replaceText(e),t.firstfocus=!1,t.updateData(),a.click())},errorTip:function(e,t){},sameDataTips:function(){var e=this,t=e.sameData,a="",n=s.getCurrentGameMessage();""!=t.join("")&&(a='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码重复，已进行自动过滤</h4><p class="pop-text" style="display:block">'+t.join(", ")+"</p>",n.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<i class="ico-waring <#=icon-class#>"></i>','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+a+"</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}}))},errorDataTips:function(){var e=this,t=e.errorData,a="",n=s.getCurrentGameMessage();""!=t.join("")&&(a='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码错误，已进行自动过滤</h4><p class="pop-text" style="display:block">'+t.join(", ")+"</p>",n.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<i class="ico-waring <#=icon-class#>"></i>','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+a+"</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}}))},ballsErrorTip:function(e,t){var a=this,n=a.errorData,r=a.sameData,i="",o="",u=s.getCurrentGameMessage();""!=r.join("")&&(o='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码重复，已进行自动过滤</h4><p class="pop-text" style="display:block">'+r.join(", ")+"</p>"),""!=n.join("")&&(i='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码错误，已进行自动过滤</h4><p class="pop-text" style="display:block">'+n.join(", ")+"</p>"),u.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<i class="ico-waring <#=icon-class#>"></i>','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+o+i+"</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}})},reSet:function(){var e=this;e.isBallsComplete=!1,e.rebuildData(),e.updateData(),e.ranNumTag||e.showNormalTips(),e.removeRanNumTag()},formatViewBalls:function(e){return this.makePostParameter(e)},makePostParameter:function(e){for(var t=[],a=e.length;a--;)t[a]=e[a].join(" ");return t.join("|")},getTdata:function(){return this.tData},getLottery:function(){var e=this,t=e.getHtml();return""==t?[]:e.checkBallIsComplete(t)},removeSameNum:function(e){var t,a=0,n=this,r=this.getBallData()[0].length;for(len=e.length,t=Math.floor(Math.random()*r);a<e.length;a++)if(t==e[a])return arguments.callee.call(n,e);return t},emptySameData:function(){this.sameData=[]},emptyErrorData:function(){this.errorData=[]},addRanNumTag:function(){var e=this;e.ranNumTag=!0,e.emptySameData(),e.emptyErrorData()},removeRanNumTag:function(){this.ranNumTag=!1},getOriginal:function(){return this.getTdata()},createRandomNum:function(){for(var e=this,t=[],a=e.getBallData().length,n=e.getBallData()[0].length,r=0;r<a;r++){var i=Math.ceil(Math.random()*(n-1));i<10&&(i="0"+i),t[r]=[i]}return t},checkRandomBets:function(e,t){var a=this,n="undefined"==typeof e,e=e||{},r=[],t=t||0,i=(a.getBallData().length,a.getBallData()[0].length,s.getCurrentGameOrder().getTotal().orders);if(r=a.createRandomNum(),Number(t)>Number(a.getRandomBetsNum()))return r;if(n)for(var o=0;o<i.length;o++)if(i[o].type==a.defConfig.name){var u=i[o].original.join("");e[u]=u}return e[r.join("")]?(t++,arguments.callee.call(a,e,t)):r},randomNum:function(){var e=this,t=[],a=null,n=(e.getBallData(),e.defConfig.name,[]),r=[];return e.addRanNumTag(),t=e.checkRandomBets(),r=t,n=e.combination(r),a={type:s.getCurrentGame().getCurrentGameMethod().getGameMethodName(),original:r,lotterys:n,moneyUnit:s.getCurrentGameStatistics().getMoneyUnit(),multiple:s.getCurrentGameStatistics().getMultip(),onePrice:s.getCurrentGameStatistics().getOnePrice(),num:n.length},a.amountText=s.getCurrentGameStatistics().formatMoney(a.num*a.moneyUnit*a.multiple*a.onePrice),a},getHTML:function(){var e=s.getCurrentGame().getGameConfig().getInstance().getUploadPath(),t=[];return t.push('<div class="number-select-title balls-type-title clearfix"><div class="number-select-link"><a href="#" class="pick-rule">选号规则</a><a href="#" class="win-info">中奖说明</a></div></div>'),t.push('<div class="balls-import clearfix">'),t.push('<form id="form1" name="form1" enctype="multipart/form-data" method="post" action="'+e+'" target="check_file_frame" style="position:relative;padding-bottom:10px;">'),t.push('<input name="betNumber" type="file" id="file" size="40" hidefocus="true" value="导入" style="outline:none;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0);filter:alpha(opacity=0);opacity: 0;position:absolute;top:0px; left:0px; width:115px; height:30px;z-index:1;background:#000;cursor: pointer;" />'),t.push('<input type="button" class="btn balls-import-input" style="cursor: pointer;" value="导入注单" onclick=document.getElementById("form1").file.click()>&nbsp;&nbsp;&nbsp;&nbsp;<a style="display:none;" class="balls-example-danshi-tip" href="#">查看标准格式样本</a>'),t.push('<input type="reset" style="outline:none;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0);filter:alpha(opacity=0);opacity: 0;width:0px; height:0px;z-index:1;background:#000" />'),t.push('<iframe src="'+e+'" name="check_file_frame" style="display:none;"></iframe>'),t.push("</form>"),t.push('<div class="panel-select" ><iframe style="width:100%;height:100%;border:0 none;background-color:#F9F9F9;" class="content-text-balls"></iframe></div>'),t.push('<div class="panel-btn">'),t.push('<a class="btn remove-error" href="javascript:void(0);">删除错误项</a>'),t.push('<a class="btn remove-same" href="javascript:void(0);">删除重复项</a>'),t.push('<a class="btn remove-all" href="javascript:void(0);">清空文本框</a>'),t.push("</div>"),t.push("</div>"),t.join("")}},l=e.Class(u,a);l.defConfig=r,o[t]=l}(dsgame,"Danshi",dsgame.GameMethod),$(function(){dsgame.Games.L115.getInstance({jsNameSpace:"dsgame.Games.L115."}),dsgame.GameTypes.getInstance(),dsgame.GameStatistics.getInstance(),dsgame.GameOrder.getInstance(),dsgame.GameTrace.getInstance(),dsgame.GameSubmit.getInstance(),dsgame.Games.L115.Message.getInstance();var e,t,a=dsgame.Games,n=a.getCurrentGame().getGameConfig().getInstance(),r=n,i=n.getCurrentGameNumber(),s=!0,o=new dsgame.Tip({cls:"j-ui-tip-alert j-ui-tip-b j-ui-tip-showrule",text:"使用厘模式进行投注，单注注单最小金额为0.02元"}),u=(new dsgame.MiniWindow({cls:"lottery-board-pop",effectShow:function(){var e=this;e.dom.css({display:"block",left:"50%",marginLeft:-e.dom.outerWidth()/2,top:2*-e.dom.outerHeight()}).animate({top:206})},effectHide:function(){var e=this;e.dom.animate({top:2*-e.dom.outerHeight()},function(){e.dom.hide()})}}),["00","01","02","03","04","05","06","07","08","09","10","11"]),l=64,c=function(e,a){var n=$("#lottery-numbers-board");$("#J-ernie-issue").html(e),a&&a.length?(t||(n.find("[data-lottery-ernie-numbers]").replaceWith(d(a.length)),t=new dsgame.Ernie({dom:n.find("li"),height:l,length:u.length,callback:m})),$("#J-lottery-ernie-numbers").show(),$(".J-loading-lottery").hide(),t.start(),t.stop(a)):($("#J-lottery-ernie-numbers").hide(),$(".J-loading-lottery").show())},m=function(){i=n.getCurrentGameNumber()},d=function(e){for(var t=['<ul style="display:none;" id="J-lottery-ernie-numbers" class="lottery-ernie-numbers lottery-ernie-numbers-'+e+'">'],a=0;a<e;a++){var n="<li>";$.each(u,function(e,t){n+="<span>"+t+"</span>"}),n+="</li>",t.push(n)}return t.push("</ul>"),t.join("")},g=function(){s&&(i=n.getLastGameNumber(),s=!1),$.ajax({url:n.getLoadIssueUrl(),dataType:"JSON",success:function(t){t.last_number.issue-i>0&&(i=t.last_number.issue),t.last_number.issue==i?(e.stop(),r=t,c(t.last_number.issue,(""+t.last_number.wn_number).split(" ")),r.issues[0].issue==r.last_number.issue&&""==r.issues[0].wn_number&&(r.issues[0].wn_number=r.last_number.wn_number),gameConfigData.issueHistory.issues=r.issues,a.getCurrentGame().getCurrentGameMethod().miniTrend_updateTrend()):c(i)}})},f=function(){var e,t,r=n.getCurrentLastTime(),i=n.getCurrentTime(),s=r-i,o=""+n.getCurrentGameNumber(),u=$(".J-lottery-countdown li em"),l=$("#J-trace-statistics-countdown"),c=a.getCurrentGameMessage();t=function(){if(s<0)return e.stop(),void a.getCurrentGame().getServerDynamicConfig(function(){var e,t=""+n.getCurrentGameNumber(),r=2;c.hide(),a.getCurrentGameTrace().autoDeleteTrace(),a.getCurrentGameTrace().hide(),o!=t&&(c.showTip('<div class="tipdom-cont">当前已进入第<div class="row" style="color:#F60;font-size:18px;">'+t+' 期</div><div class="row">请留意期号变化 (<span id="J-gamenumber-change-s-num">3</span>)</div></div>'),e=setInterval(function(){$("#J-gamenumber-change-s-num").text(r),r-=1,r<-1&&(clearInterval(e),c.hideTip())},1e3))});var t=[],r=Math.floor(s/3600),i=Math.floor(s%3600/60),m=s%3600%60;r=r<10?"0"+r:""+r,i=i<10?"0"+i:""+i,m=m<10?"0"+m:""+m,t.push(r),t.push(i),t.push(m),u.each(function(e,a){$(this).text(t[e])}),l.html(t.join(":")),s--},e=new dsgame.Timer({time:1e3,fn:t}),$("#J-header-currentNumber").html(o)},h=function(){$("div.game-record-section>ul>li").click(function(){var e=$(this);$("div.game-record-section>ul>li").removeClass("current"),e.addClass("current"),$("#record-iframe").attr("src",e.attr("srclink"))})},p=function(){var t=r.last_number?r.last_number.issue:r.getLastGameNumber(),a=r.last_number?(""+r.last_number.wn_number).split(" "):(""+r.getLotteryBalls()).split(" ");return""==r.getLotteryBalls()?e=new dsgame.Timer({time:5e3,isNew:!0,fn:g}):c(t,a),!1};f(),h(),p(),a.getCurrentGame().addEvent("changeDynamicConfig",function(t,a){e=new dsgame.Timer({time:5e3,isNew:!0,fn:g}),f()}),a.getCurrentGameTypes().addEvent("beforeChange",function(e,t){var n,r=$("#J-panel-gameTypes li"),i=$("#J-gametyes-menu-panel"),s=i.find('[data-id="'+t+'"]'),o=(a.getCurrentGame().getGameConfig().getInstance().getMethodCnNameById(t),"current");s.size()>0&&(i.find("dd").removeClass(o).end(),s.addClass(o),n=s.parents("li").addClass("current").show(),r.removeClass("current").eq(n.index()).addClass("current"))});var v=new dsgame.Tip({cls:"j-ui-tip-b j-ui-tip-showrule"});$("#J-balls-main-panel").on("mouseover",".pick-rule, .win-info",function(){var e=$(this),t=a.getCurrentGame().getCurrentGameMethod().getId(),n=a.getCurrentGame().getGameConfig().getInstance().getMethodById(t),r=e.hasClass("pick-rule")?n.bet_note:n.bonus_note;v.setText(r),v.show(v.getDom().width()/2*-1+e.width()/2,v.getDom().height()*-1-20,e)}),$("#J-balls-main-panel").on("mouseleave",".pick-rule, .win-info",function(){v.hide()}),$("#J-balls-main-panel").on("click",".pick-rule, .win-info",function(){return!1});var b=0;a.getCurrentGame().addEvent("afterSwitchGameMethod",function(e,t){var t=a.getCurrentGame().getCurrentGameMethod().getId(),n=a.getCurrentGameStatistics().getMoneyUnit(),r=a.getCurrentGame().getGameConfig().getInstance().getLimitByMethodId(t,n),i=a.getCurrentGame().getGameConfig().getInstance().getPrizeById(t),s=a.getCurrentGame().getGameConfig().getInstance().getMaxPrizeGroup(),o=a.getCurrentGame().getGameConfig().getInstance().getOptionalPrizes().length,u=a.getCurrentGame().getGameConfig().getInstance().getOptionalPrizes()[o-1].prize_group,l=0,c=!1;b=Number(i.prize),c=i.display_prize,l=u>s?b*n*s/u:b*n,a.getCurrentGameStatistics().getMultipleDom().setMaxValue(r),c?($("#J-method-prize").show(),$("#J-method-prize").find("span").html(dsgame.util.formatMoney(l))):$("#J-method-prize").hide(),a.getCurrentGame().getCurrentGameMethod().miniTrend_updateTrend()}),a.getCurrentGameTypes().addEvent("endShow",function(){this.changeMode(a.getCurrentGame().getGameConfig().getInstance().getDefaultMethodId())}),$("#J-add-order").click(function(){var e=a.getCurrentGameStatistics().getResultData();!e.mid||e.amount<"0.02"||a.getCurrentGameOrder().add(e)}),a.getCurrentGameStatistics().addEvent("afterUpdate",function(e,t,n){var r=this,i=$("#J-add-order"),s=a.getCurrentGame().getGameConfig().getInstance().getMaxPrizeGroup(),u=a.getCurrentGame().getGameConfig().getInstance().getOptionalPrizes().length,l=a.getCurrentGame().getGameConfig().getInstance().getOptionalPrizes()[u-1].prize_group;if(t>0)if(n>="0.02"){i.removeClass("btn-disable");var c=r.getPrizeGroupRate()||0;r.setRebate(n,c),o.hide()}else o.show(o.getDom().width()/2*-1+i.width()/2,o.getDom().height()*-1-20,i),i.addClass("btn-disable"),r.setRebate(0);else i.addClass("btn-disable"),r.setRebate(0),o.hide();var m=b*Number(r.getMoneyUnit());l>s&&(m=b*Number(r.getMoneyUnit())*s/l),$("#J-method-prize").find("span").html(dsgame.util.formatMoney(m))});var C,y=$("#J-panel-order-list-cont");y.jScrollPane(),C=y.data("jsp"),a.getCurrentGameOrder().addEvent("afterChangeLotterysNum",function(e,t){var a=$("#J-submit-order"),n=$("#J-trace-switch"),r=e.data.orderData,i=!1,s=$(".J-cart-empty");if(t>0){for(var o=0;o<r.length;o++).001==r[o].moneyUnit?i=!0:"";i?(a.removeClass("btn-bet-disable"),n.addClass("btn-bet-disable")):a.add(n).removeClass("btn-bet-disable"),s.hide(),C.reinitialise()}else a.add(n).addClass("btn-bet-disable"),s.show()}),$("body").on("click",".remove-error",function(){a.getCurrentGame().getCurrentGameMethod().removeOrderError()}).on("click",".remove-same",function(){a.getCurrentGame().getCurrentGameMethod().removeOrderSame()}).on("click",".remove-all",function(){a.getCurrentGame().getCurrentGameMethod().removeOrderAll()}),a.getCurrentGameStatistics().setMultiple(a.getCurrentGame().getGameConfig().getInstance().getDefaultMultiple()),a.getCurrentGameStatistics().setMoneyUnitDom(a.getCurrentGame().getGameConfig().getInstance().getDefaultCoefficient()),$("body").on("click","#J-submit-order",function(){a.getCurrentGameTrace().deleteTrace(),a.getCurrentGameSubmit().submitData()}),$("#J-trace-switch").click(function(){for(var e=a.getCurrentGameOrder().orderData,t=!1,n=0;n<e.length;n++)"0.001"==e[n].moneyUnit?t=!0:"";return!t&&($("#J-trace-statistics-balance").html($("[data-user-account-balance]").html()),a.getCurrentGameTrace().show(),!1)}),$("#J-trace-panel").on("click",".closeBtn",function(){a.getCurrentGameTrace().hide(),a.getCurrentGameTrace().deleteTrace()}),$("#J-button-trace-confirm").click(function(){a.getCurrentGameTrace().getIsTrace()&&(a.getCurrentGameTrace().hide(),a.getCurrentGameSubmit().submitData(),a.getCurrentGameTrace().deleteTrace())}),a.getCurrentGameSubmit().addEvent("beforeSend",function(e,t){var a=t.win.dom.find(".pop-control"),n=a.find("a.confirm");a.find("a.cancel");n.addClass("btn-disabled"),n.text("提交中..."),t.win.hideCancelButton()}),a.getCurrentGameSubmit().addEvent("afterSubmit",function(e,t){var a=t.win.dom.find(".pop-control"),n=a.find("a.confirm");a.find("a.cancel");n.removeClass("btn-disabled"),n.text("确 认"),$("#record-iframe").attr("src",$(".game-record-section >ul.tabs >li.current").attr("srclink")),$("[data-refresh-balance]:eq(0)").trigger("click")}),setTimeout(function(){$("html,body").animate({scrollTop:140},400)},1e3)});