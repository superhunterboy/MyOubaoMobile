/*‮*/!function(e,t,n,a){var r,i={name:"ssc",jsNamespace:"",digitConf:[0,0,0,0,0],digitNeed:0},s=e.Games,o={init:function(){var e=this;e.eventProxy(),e.digitStatus=[],e.digitChoosed=[]},getGameConfig:function(){return s.SSC.Config},digitStatusToggle:function(e){var t=this,n=t.getDigitStatus(),a=!0;return n[e]=Number(!n[e]),t.setDigitChoosed(n),t.checkDigitStatus(n)?t.digitStatus=n:(n[e]=Number(!n[e]),a=!1,t.setDigitChoosed(n)),t.setProjectNum(),s.getCurrentGame().fireEvent("afterDigitStatusChange"),a},initDigitStatus:function(e,t){this.digitNeed=Number(e),this.digitStatus=t,this.setDigitChoosed(),this.setProjectNum()},getDigitStatus:function(e){return e&&this.digitStatus[e]||this.digitStatus},checkDigitStatus:function(){return digitChoosed=this.getDigitChoosed(),digitChoosed.length>=this.getDigitNeed()},getDigitNeed:function(){return this.digitNeed},setDigitChoosed:function(e){var t=this,e=e||t.getDigitStatus(),n=[];return $.each(e,function(e,t){var a=!1;t&&(n.push(e),a=!0),s.getCurrentGame().fireEvent("digitLabelsEvent",e,a)}),this.digitChoosed=n},getDigitChoosed:function(){return this.digitChoosed},getProjectNum:function(){return this.digitProjectNum},setProjectNum:function(){var e=this,t=e.k_combinations(e.getDigitChoosed(),e.getDigitNeed()),n=e.getProjectNum()||1;e.digitProjectNum=t.length||1,s.getCurrentGame().fireEvent("afterProjectNumSet",n,t)},combination:function(e){if(e.length<1)return[];var t,n,a,r=(e[0].length,e.length),i=[],s=[],o=[];for(i[t=r]=1;t--;)i[t]=i[t+1]*e[t].length;for(a=i[0],t=0;t<a;t++){for(o=[],n=0;n<r;n++)o[n]=e[n][~~(t%i[n]/i[n+1])];s[t]=o}return s},k_combinations:function(e,t){var n,a,r,i,s,o=this;if(t>e.length||t<=0)return[];if(t==e.length)return[e];if(1==t){for(r=[],n=0;n<e.length;n++)r.push([e[n]]);return r}for(r=[],n=0;n<e.length-t+1;n++)for(i=e.slice(n,n+1),s=o.k_combinations(e.slice(n+1),t-1),a=0;a<s.length;a++)r.push(i.concat(s[a]));return r},zx_combinations:function(e){function t(e,t){var n=[];return $.each(e,function(e,a){var r=[a];t&&t.length||n.push(a),$.each(t,function(e,t){if($.isArray(t))var a=t;else var a=[t];n.push(r.concat(a))})}),n}for(var n=[];e.length;){var a=e.pop();n=t(a,n)}return n}},u=e.Class(o,n);u.defConfig=i,u.getInstance=function(e){return r||(r=new u(e))},e.Games[t]=u}(dsgame,"SSC",dsgame.Game),function(e,t,n,a){var r,i=gameConfigData,s={},o={},u={};!function(){var e,t,n,a=i.wayGroups;$.each(a,function(){e=this,e.fullname_en=[e.name_en],e.fullname_cn=[e.name_cn],o[""+e.id]=e,e.children&&$.each(e.children,function(){t=this,t.fullname_en=e.fullname_en.concat(t.name_en),t.fullname_cn=e.fullname_cn.concat(t.name_cn),o[""+t.id]=t,t.children&&$.each(t.children,function(){n=this,n.fullname_en=t.fullname_en.concat(n.name_en),n.fullname_cn=t.fullname_cn.concat(n.name_cn),u[""+n.id]=n})})})}();var l={init:function(){},getGameId:function(){return i.gameId},getGameNameEn:function(){return i.gameNameEn},getGameNameCn:function(){return i.gameNameCn},getTraceMaxTimes:function(){return Number(i.traceMaxTimes)},getCurrentLastTime:function(){return i.currentNumberTime},getCurrentTime:function(){return i.currentTime},getCurrentGameNumber:function(){return i.currentNumber},getLastGameNumber:function(){var e=i.issueHistory.last_number.issue,t=i.issueHistory.issues[0].issue;return t>e&&(e=t),e},getLotteryBalls:function(){var e=i.issueHistory.last_number.wn_number,t=i.issueHistory.last_number.issue,n=i.issueHistory.issues[0].issue;return n>t&&(e=i.issueHistory.issues[0].wn_number),e||""},getLotteryNumbers:function(){return i.issueHistory.issues||[]},getFormatLotteryNumbers:function(e,t){var n=this,a={};return t=t?t:n.getLotteryNumbers(),e=e||"hour",$.each(t,function(t,r){var i=n.getKeyByDateStr(""+r.offical_time,e);i&&(a[i]||(a[i]=[]),a[i].push(r))}),a},getKeyByDateStr:function(e,t){e=e||"0",t=t||"hour";var n=new Date;if(n.setTime(1e3*parseInt(e)),"[object Date]"===Object.prototype.toString.call(n)){if(isNaN(n.getTime()))return"";var a=n.getMonth()+1,r=n.getDate(),i=n.getHours(),s=n.getMinutes();return a<10&&(a="0"+a),r<10&&(r="0"+r),i<10&&(i="0"+i),s<10&&(s="0"+s),"month"==t?a+"月":"day"==t?a+"月"+r+"日":"minute"==t?i+":"+s:i+":00"}return""},getGameNumbers:function(){return i.gameNumbers},getLimitByMethodId:function(e,t){var t=t||1,n=Number(this.getPrizeById(e).max_multiple);return n/t},getSubmitUrl:function(){return i.submitUrl},getUpdateUrl:function(){return i.loaddataUrl},getUploadPath:function(){return i.uploadPath},getJsPath:function(){return i.jsPath},getDefaultMethodId:function(){return i.defaultMethodId},getUserName:function(){return i.username},getDelayTime:function(){return 5},getLastGameBallsUrl:function(){return i.lastGameBallsUrl},getMethods:function(){return i.wayGroups},getMethodById:function(e){return u[""+e]},getPrizeById:function(e){return i.prizeSettings[""+e]},getMethodNodeById:function(e){return o[""+e]},getMethodNameById:function(e){var t,n=this.getMethodById(e);return n?t=n.name_en:$.each(u,function(n,a){return!t&&void(a.relation_series_ids&&$.each(a.relation_series_ids,function(n,r){if(r.series_way_id==e)return t=a.name_en,!1}))}),t||""},getMethodCnNameById:function(e){var t,n=this.getMethodById(e);return n?t=n.name_cn:$.each(u,function(n,a){return!t&&void(a.relation_series_ids&&$.each(a.relation_series_ids,function(n,r){if(r.series_way_id==e)return t=a.name_cn,!1}))}),t||""},getMethodFullNameById:function(e){var t,n=this.getMethodById(e);return n?t=n.fullname_en:$.each(u,function(n,a){return!t&&void(a.relation_series_ids&&$.each(a.relation_series_ids,function(n,r){if(r.series_way_id==e)return t=a.fullname_en,!1}))}),t||""},getMethodCnFullNameById:function(e){var t,n=this.getMethodById(e);return n?t=n.fullname_cn:$.each(u,function(n,a){return!t&&void(a.relation_series_ids&&$.each(a.relation_series_ids,function(n,r){if(r.series_way_id==e)return t=a.fullname_cn,!1}))}),t||""},getOnePriceById:function(e){return this.getMethodById(e).price},getToken:function(){return i._token},updateConfig:function(e){$.extend(!0,i,e)},getOptionalPrizes:function(){return i.optionalPrizes},setOptionalPrizes:function(){return $("#J-bonus-select-value").val()},getDefaultCoefficient:function(){return i.defaultCoefficient?i.defaultCoefficient:"1"},getDefaultMultiple:function(){return i.defaultMultiple?i.defaultMultiple:"1"},getLoadIssueUrl:function(){return i.loadIssueUrl},getMaxPrizeGroup:function(){return i.maxPrizeGroup},getSeriesWayId:function(e,t){var n=this.getMethodById(e).relation_series_ids||[],a=-1;return $.each(n,function(e,n){if(n.index==t)return a=n.series_way_id,!1}),a}},c=e.Class(l,n);c.defConfig=s,c.getInstance=function(e){return r||(r=new c(e))},e.Games.SSC[t]=c}(dsgame,"Config",dsgame.Event),function(e,t,n,a){var r,i={},s=e.Games,o={init:function(e){var t=this;s.setCurrentGameMessage(t)}},u=e.Class(o,n);u.defConfig=i,u.getInstance=function(e){return r||(r=new u(e))},e.Games.SSC[t]=u}(dsgame,"Message",dsgame.GameMessage),function(e,t,n,a){var r={name:"wuxing.zhixuan.danshi",editorobj:".content-text-balls",uploadButton:"#file",exampleText:"12345 33456 87898 <br />12345 33456 87898 <br />12345 33456 87898 ",tips:"五星直选单式玩法提示",exampleTip:"这是单式弹出层提示",checkFont:/[\u4E00-\u9FA5]|[\/\n]|[\/W]/g,filtration:/[\s]|[,]|[;]|[<br>]|[，]|[；]/g,checkNum:/^[0-9]*$/,normalTips:["说明：","1、每一注号码之间的间隔符支持 回车  空格[ ]    逗号[,]   分号[;]","2、文件格式必须是.txt格式,大小不超过200KB。","3、将文件拖入文本框即可快速实现文件上传,大文件拖拽上传效果更佳。","4、导入文本内容后将覆盖文本框中现有的内容。","5、一次投注支持100,000注！"].join("\n")},i="SSC",s=e.Games,o=e.Games[i],u={init:function(e){var t=this;t.ieRange="",t.vData=[],t.aData=[],t.tData=[],t.errorData=[],t.sameData=[],t.firstfocus=!0,t.ranNumTag=!1,t.isFirstAdd=!0,s.getCurrentGameOrder().addEvent("beforeAdd",function(e,n){t.tData;n.type==t.defConfig.name&&(t.isFirstAdd?t.ranNumTag||(n.lotterys=[],t.isFirstAdd=null,t.updateData(),s.getCurrentGameOrder().add(s.getCurrentGameStatistics().getResultData())):(""==t.errorData.join("")&&""==t.sameData.join("")||t.ballsErrorTip(),t.isFirstAdd=!0))})},initTextarea:function(){var e=this,t="content-textarea-balls-def",n=e.defConfig,a=$.trim(n.normalTips);e.importTextarea=$('<textarea class="content-textarea-balls '+t+'">'+a+"</textarea>"),e.container.find(".panel-select").html("").append(e.importTextarea),e.importTextarea.focus(function(){var n=$.trim(this.value);n==a&&(this.value="",e.importTextarea.removeClass(t))}).blur(function(){var t=$.trim(this.value);""==t&&(e.removeOrderAll(),e.showNormalTips())}).keyup(function(){e.updateData()})},initFrame:function(){var e=this;e.initTextarea(),e.bindPressTextarea(),e.dragUpload()},getExampleText:function(){return this.defConfig.exampleText},rebuildData:function(){var e=this;e.balls=[[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]]},buildUI:function(){var e=this;e.container.html(e.getHTML())},reSelect:function(){},batchSetBallDom:function(){},getNormalTips:function(){return this.defConfig.normalTips},showNormalTips:function(){var e=this,t="content-textarea-balls-def";e.importTextarea&&e.importTextarea.addClass(t),e.replaceText(e.getNormalTips.call(e))},_bulidEditDom:function(){var e=this,t="";e.doc.designMode="On",e.doc.contentEditable=!0,e.doc.open(),t='<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',t+="<style>*{margin:0;padding:0;font-size:14px;}</style>",t+="</head>",e.doc.writeln("<html>"+t+'<body style="word-break: break-all">'+e.getNormalTips()+"</body></html>"),e.doc.close(),e.bindPress(),document.all&&(e.doc.onkeypress=function(){return e._ieEnter()}),e.dragUpload()},dragUpload:function(){var e=this,t=e.importTextarea;window.FileReader&&(t.bind("dragover",function(e){e.preventDefault(),e.stopPropagation()}),t.get(0).addEventListener("drop",function(t){t.preventDefault(),t.stopPropagation();var n=t.dataTransfer.files,a=n[0],r=new FileReader,i=a.type?a.type:"n/a";"text/plain"==i&&(r.onload=function(t){var n=t.target.result;""!=$.trim(n)&&(e.replaceText(n),e.updateData())},r.readAsText(a))},!1))},_ieEnter:function(){var e=this,t=e.win.event;if(13==t.keyCode)return this._saveRange(),this._insert("<br/>"),!1},_insert:function(e){var t=this;if(t.ieRange)t.ieRange.pasteHTML(e),t.ieRange.select(),t.ieRange=!1;else if(t.win.focus(),document.all)t.doc.body.innerHTML+=e;else{var n=win.getSelection(),a=n.getRangeAt(0),r=a.createContextualFragment(e);a.insertNode(r)}},_saveRange:function(){if(document.all&&!me.ieRange){var e=me.doc.selection;if(me.ieRange=e.createRange(),"Control"!=e.type){var t=me.ieRange.parentElement();"INPUT"!=t.tagName&&t!=document.body||(me.ieRange=!1)}}},getHtml:function(){var e=this,t=e.importTextarea?e.importTextarea.val():"";return t},replaceText:function(e){var t=this;t.importTextarea&&t.importTextarea.val(e)},bindPressTextarea:function(){var e=this,t=e.container.find(e.defConfig.uploadButton);window.navigator.userAgent.toLowerCase();t.bind("change",function(){var t=$(this).parent();e.checkFile(this,t)})},bindPress:function(){var e=this,t=e.container.find(e.defConfig.uploadButton),n=window.navigator.userAgent.toLowerCase();$(e.doc).bind("input",function(){e.updateData()}),n.indexOf("msie")>0&&($(e.doc.body).bind("keyup",function(){e.updateData()}),$(e.doc.body).bind("blur",function(){e.updateData()})),$(e.doc).bind("focus",function(){e.firstfocus&&(e.replaceText(" "),e.firstfocus=!1)}),$(e.doc).bind("blur",function(){var t=e.getText();""==$.trim(t)?e.showNormalTips():e.updateData()}),$(e.doc.body).bind("focus",function(){e.firstfocus&&(e.replaceText(" "),e.firstfocus=!1)}),$(e.doc.body).bind("blur",function(){var t=e.getText();""==$.trim(t)?e.showNormalTips():e.updateData()}),t.bind("change",function(){var t=$(this).parent();e.checkFile(this,t)})},iterator:function(e){var t,n=this,a=n.defConfig,r=[],i=[];return e=$.trim(e),e=e.replace(a.filtration,"|"),e=e.replace(/\s+/g," "),e=$.trim(e),i=e.split("|"),$.each(i,function(e){t=$.trim(this),""!=t&&r.push(t)}),r},checkResult:function(e,t){for(var n=t.length-1;n>=0;n--)if(t[n].join("")==e)return!1;return!0},filterLotters:function(e){var t=this,n="";return n=e.replace(/<br>+|&nbsp;+/gi," "),n=n.replace(/\s\s|[\s]|[,]+|[;]+|[，]+|[；]+/gi," "),n=n.replace(/<(?:"[^"]*"|'[^']*'|[^>'"]*)+>/g," "),n=n.replace(t.defConfig.checkFont,"")+" "},checkSingleNum:function(e){var t=this;return t.defConfig.checkNum.test(e)&&e.length==t.balls.length},checkBallIsComplete:function(e){var t=this;t.aData=[],t.vData=[],t.sameData=[],t.errorData=[],t.tData=[],result=[],result=t.iterator(t.filterLotters(e)).sort()||[];for(var n=result.length;n--;){if(t.checkSingleNum(result[n])){var a=result[n];a==result[n+1]?t.sameData.push(result[n].split("")):t.tData.push(result[n].split("")),t.vData.push(result[n].split(""))}else t.errorData.push(result[n].split(""));t.aData.push(result[n].split(""))}return t.tData.length>0?(t.isBallsComplete=!0,t.isFirstAdd?t.vData:t.tData):(t.isBallsComplete=!1,[])},countInstances:function(e,t){var n=[],a=0;do a=e.indexOf(t,a),a!=-1&&(n.push(a),a+=t.length);while(a!=-1);return n},removeOrderError:function(){var e=this,t=[],n=0,a=e.tData.length;for(n=0;n<a;n++)t[n]=e.tData[n].join("");t=$.trim(t.join(" ")),e.errorDataTips(),e.replaceText(t),e.errorData=[],e.sameData=[],""==t&&e.showNormalTips()},removeOrderSame:function(){var e=this,t=[],n=0,a=e.tData.length;for(n=0;n<a;n++)t[n]=e.tData[n].join("");t=$.trim(t.join(" ")),e.sameDataTips(),e.replaceText(t),e.errorData=[],e.sameData=[],""==t&&e.showNormalTips()},removeOrderAll:function(){var e=this;e.replaceText(" "),e.sameData=[],e.aData=[],e.tData=[],e.vData=[],s.getCurrentGameStatistics().reSet(),e.showNormalTips()},checkFile:function(e,t){var n=e.value,a=n.substring(n.lastIndexOf("."),n.length),a=a.toLowerCase();return".txt"!=a?(alert("对不起，导入数据格式必须是.txt格式文件哦，请您调整格式后重新上传，谢谢 ！"),!1):void t[0].submit()},getFile:function(e){var t=this,n=t.container.find(":reset");e&&(t.replaceText(e),t.firstfocus=!1,t.updateData(),n.click())},errorTip:function(e,t){var n=this;alert(n.errorData.join())},sameDataTips:function(){var e=this,t=e.sameData,n="",a=s.getCurrentGameMessage(),r=[];if(""!=t.join("")){for(var i=0;i<t.length;i++)$.trim(t[i].join(""))&&r.push(t[i].join(""));n='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码重复，已进行自动过滤</h4><p class="pop-text" style="display:block">'+r.join(", ")+"</p>",a.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<i class="ico-waring <#=icon-class#>"></i>','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+n+"</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}})}},errorDataTips:function(){var e=this,t=e.errorData,n="",a=s.getCurrentGameMessage(),r=[];if(""!=t.join("")){for(var i=0;i<t.length;i++)$.trim(t[i].join(""))&&r.push(t[i].join(""));n='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码错误，已进行自动过滤</h4><p class="pop-text" style="display:block">'+r.join(", ")+"</p>",a.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<i class="ico-waring <#=icon-class#>"></i>','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+n+"</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}})}},ballsErrorTip:function(e,t){var n=this,a=n.errorData,r=n.sameData,i="",o="",u=s.getCurrentGameMessage(),l=[],c=[];if(""!=r.join("")){for(var d=0;d<r.length;d++)$.trim(r[d].join(""))&&c.push(r[d].join(""));o='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码重复，已进行自动过滤</h4><p class="pop-text" style="display:block">'+c.join(", ")+"</p>"}if(""!=a.join("")){for(var d=0;d<a.length;d++)$.trim(a[d].join(""))&&l.push(a[d].join(""));i='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码错误，已进行自动过滤</h4><p class="pop-text" style="display:block">'+l.join(", ")+"</p>"}u.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<i class="ico-waring <#=icon-class#>"></i>','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+o+i+"</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}})},reSet:function(){var e=this;e.isBallsComplete=!1,e.rebuildData(),e.updateData(),e.ranNumTag||e.showNormalTips(),e.removeRanNumTag()},formatViewBalls:function(e){for(var t=[],n=e.length,a=0;a<n;a++)t[a]=e[a].join("");var r=t.join("|");return r},makePostParameter:function(e,t){for(var n=[],e=t.lotterys,a=e.length,r=0;r<a;r++)n[r]=e[r].join("");return n.join("|")},getLottery:function(){var e=this,t=e.getHtml();if(""!=t)return e.checkBallIsComplete(t)},removeSameNum:function(e){var t,n=0,a=this,r=this.getBallData()[0].length;for(len=e.length,t=Math.floor(Math.random()*r);n<e.length;n++)if(t==e[n])return arguments.callee.call(a,e);return t},emptySameData:function(){this.sameData=[]},emptyErrorData:function(){this.errorData=[]},addRanNumTag:function(){var e=this;e.ranNumTag=!0,e.emptySameData(),e.emptyErrorData()},getTdata:function(){return this.tData},getOriginal:function(){return this.getTdata()},removeRanNumTag:function(){this.ranNumTag=!1},checkRandomBets:function(e,t){var n=this,a="undefined"==typeof e,e=e||{},r=[],t=t||0,i=(n.getBallData().length,n.getBallData()[0].length,s.getCurrentGameOrder().getTotal().orders);if(r=n.createRandomNum(),Number(t)>Number(n.getRandomBetsNum()))return r;if(a)for(var o=0;o<i.length;o++)if(i[o].type==n.defConfig.name){var u=i[o].original.join("").replace(/,/g,"");e[u]=u}return e[r.join("")]?(t++,arguments.callee.call(n,e,t)):r},randomNum:function(){var e=this,t=[],n=null,a=(e.getBallData(),e.defConfig.name,s.getCurrentGame().getCurrentGameMethod().getGameMethodName()),r=[],i=[];return e.addRanNumTag(),t=e.checkRandomBets(),i=t,r=e.combination(i),n={type:a,original:i,lotterys:r,moneyUnit:s.getCurrentGameStatistics().getMoneyUnit(),multiple:s.getCurrentGameStatistics().getMultip(),onePrice:s.getCurrentGame().getGameConfig().getInstance().getOnePrice(a),num:r.length},n.amountText=s.getCurrentGameStatistics().formatMoney(n.num*n.moneyUnit*n.multiple*n.onePrice),n},getHTML:function(){var e=s.getCurrentGame().getGameConfig().getInstance().getUploadPath(),t=s.getCurrentGame().getGameConfig().getInstance().getToken(),n=[];return n.push('<div class="number-select-title balls-type-title clearfix"><div class="number-select-link"><a href="#" class="pick-rule">选号规则</a><a href="#" class="win-info">中奖说明</a></div></div>'),n.push('<div class="balls-import clearfix">'),n.push('<form id="form1" name="form1" enctype="multipart/form-data" method="post" action="'+e+'" target="check_file_frame" style="position:relative;padding-bottom:10px;">'),n.push('<input name="betNumber" type="file" id="file" size="40" hidefocus="true" value="导入" style="outline:none;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0);filter:alpha(opacity=0);opacity: 0;position:absolute;top:0px; left:0px; width:115px; height:30px;z-index:1;background:#000;cursor: pointer;" />'),n.push('<input name="_token" type="hidden" value="'+t+'" />'),n.push('<input type="button" class="btn balls-import-input" style="cursor: pointer;" value="导入注单" onclick=document.getElementById("form1").file.click()>&nbsp;&nbsp;&nbsp;&nbsp;<a style="display:none;" class="balls-example-danshi-tip" href="#">查看标准格式样本</a>'),n.push('<input type="reset" style="outline:none;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0);filter:alpha(opacity=0);opacity: 0;width:0px; height:0px;z-index:1;background:#000" />'),n.push('<iframe src="'+e+'" name="check_file_frame" style="display:none;"></iframe>'),n.push("</form>"),n.push('<div class="panel-select"><iframe style="width:100%;height:100%;border:0 none;background-color:#F9F9F9;" class="content-text-balls"></iframe></div>'),n.push('<div class="panel-btn">'),n.push('<a class="btn remove-error" href="javascript:void(0);">删除错误项</a>'),n.push('<a class="btn remove-same" href="javascript:void(0);">删除重复项</a>'),n.push('<a class="btn remove-all" href="javascript:void(0);">清空文本框</a>'),n.push("</div>"),n.push("</div>"),n.join("")}},l=e.Class(u,n);l.defConfig=r,o[t]=l}(dsgame,"Danshi",dsgame.GameMethod),$(function(){dsgame.Games.SSC.getInstance({jsNameSpace:"dsgame.Games.SSC."}),dsgame.GameTypes.getInstance(),dsgame.GameStatistics.getInstance(),dsgame.GameOrder.getInstance(),dsgame.GameTrace.getInstance(),dsgame.GameSubmit.getInstance(),dsgame.Games.SSC.Message.getInstance();var e,t,n=dsgame.Games,a=n.getCurrentGame().getGameConfig().getInstance(),r=a,i=a.getCurrentGameNumber(),s=!0,o=new dsgame.Tip({cls:"j-ui-tip-alert j-ui-tip-b j-ui-tip-showrule",text:"使用厘模式进行投注，单注注单最小金额为0.02元"}),u=(new dsgame.MiniWindow({cls:"lottery-board-pop",effectShow:function(){var e=this;e.dom.css({display:"block",left:"50%",marginLeft:-e.dom.outerWidth()/2,top:2*-e.dom.outerHeight()}).animate({top:206})},effectHide:function(){var e=this;e.dom.animate({top:2*-e.dom.outerHeight()},function(){e.dom.hide()})}}),[0,1,2,3,4,5,6,7,8,9]),l=64,c=function(e,n){var a=$("#lottery-numbers-board");$("#J-ernie-issue").html(e),n&&n.length?(t||(a.find("[data-lottery-ernie-numbers]").replaceWith(m(n.length)),t=new dsgame.Ernie({dom:a.find("li"),height:l,length:u.length,callback:d})),$("#J-lottery-ernie-numbers").show(),$(".J-loading-lottery").hide(),t.start(),t.stop(n)):($("#J-lottery-ernie-numbers").hide(),$(".J-loading-lottery").show())},d=function(){i=a.getCurrentGameNumber()},m=function(e){for(var t=['<ul style="display:none;" id="J-lottery-ernie-numbers" class="lottery-ernie-numbers lottery-ernie-numbers-'+e+'">'],n=0;n<e;n++){var a="<li>";$.each(u,function(e,t){a+="<span>"+t+"</span>"}),a+="</li>",t.push(a)}return t.push("</ul>"),t.join("")},g=function(){s&&(i=a.getLastGameNumber(),s=!1),$.ajax({url:a.getLoadIssueUrl(),dataType:"JSON",success:function(t){t.last_number.issue-i>0&&(i=t.last_number.issue),t.last_number.issue==i?(e.stop(),r=t,c(t.last_number.issue,(""+t.last_number.wn_number).split("")),r.issues[0].issue==r.last_number.issue&&""==r.issues[0].wn_number&&(r.issues[0].wn_number=r.last_number.wn_number),gameConfigData.issueHistory.issues=r.issues,n.getCurrentGame().getCurrentGameMethod().miniTrend_updateTrend()):c(i)}})},f=function(){var e,t,r=a.getCurrentLastTime(),i=a.getCurrentTime(),s=r-i,o=""+a.getCurrentGameNumber(),u=$(".J-lottery-countdown li em"),l=$("#J-trace-statistics-countdown"),c=n.getCurrentGameMessage();t=function(){if(s<0)return e.stop(),void n.getCurrentGame().getServerDynamicConfig(function(){var e,t=""+a.getCurrentGameNumber(),r=2;c.hide(),n.getCurrentGameTrace().autoDeleteTrace(),n.getCurrentGameTrace().hide(),o!=t&&(c.showTip('<div class="tipdom-cont">当前已进入第<div class="row" style="color:#F60;font-size:18px;">'+t+' 期</div><div class="row">请留意期号变化 (<span id="J-gamenumber-change-s-num">3</span>)</div></div>'),e=setInterval(function(){$("#J-gamenumber-change-s-num").text(r),r-=1,r<-1&&(clearInterval(e),c.hideTip())},1e3))});var t=[],r=Math.floor(s/3600),i=Math.floor(s%3600/60),d=s%3600%60;r=r<10?"0"+r:""+r,i=i<10?"0"+i:""+i,d=d<10?"0"+d:""+d,t.push(r),t.push(i),t.push(d),u.each(function(e,n){$(this).text(t[e])}),l.html(t.join(":")),s--},e=new dsgame.Timer({time:1e3,fn:t}),$("#J-header-currentNumber").html(o)},h=function(){$("div.game-record-section>ul>li").click(function(){var e=$(this);$("div.game-record-section>ul>li").removeClass("current"),e.addClass("current"),$("#record-iframe").attr("src",e.attr("srclink"))})},p=function(){var t=r.last_number?r.last_number.issue:r.getLastGameNumber(),n=r.last_number?(""+r.last_number.wn_number).split(""):(""+r.getLotteryBalls()).split("");return""==r.getLotteryBalls()?e=new dsgame.Timer({time:5e3,isNew:!0,fn:g}):c(t,n),!1};f(),h(),p(),n.getCurrentGame().addEvent("changeDynamicConfig",function(t,n){e=new dsgame.Timer({time:5e3,isNew:!0,fn:g}),f()}),n.getCurrentGameTypes().addEvent("beforeChange",function(e,t){var a,r=$("#J-panel-gameTypes li"),i=$("#J-gametyes-menu-panel"),s=i.find('[data-id="'+t+'"]'),o=(n.getCurrentGame().getGameConfig().getInstance().getMethodCnNameById(t),"current");s.size()>0&&(i.find("dd").removeClass(o).end(),s.addClass(o),a=s.parents("li").addClass("current").show(),r.removeClass("current").eq(a.index()).addClass("current"))});var v=new dsgame.Tip({cls:"j-ui-tip-b j-ui-tip-showrule"});$("#J-balls-main-panel").on("mouseover",".pick-rule, .win-info",function(){var e=$(this),t=n.getCurrentGame().getCurrentGameMethod().getId(),a=n.getCurrentGame().getGameConfig().getInstance().getMethodById(t),r=e.hasClass("pick-rule")?a.bet_note:a.bonus_note;v.setText(r),v.show(v.getDom().width()/2*-1+e.width()/2,v.getDom().height()*-1-20,e)}),$("#J-balls-main-panel").on("mouseleave",".pick-rule, .win-info",function(){v.hide()}),$("#J-balls-main-panel").on("click",".pick-rule, .win-info",function(){return!1});var C=0;n.getCurrentGame().addEvent("afterSwitchGameMethod",function(e,t){var t=n.getCurrentGame().getCurrentGameMethod().getId(),a=n.getCurrentGameStatistics().getMoneyUnit(),r=n.getCurrentGame().getGameConfig().getInstance().getLimitByMethodId(t,a),i=n.getCurrentGame().getGameConfig().getInstance().getPrizeById(t),s=n.getCurrentGame().getGameConfig().getInstance().getMaxPrizeGroup(),o=n.getCurrentGame().getGameConfig().getInstance().getOptionalPrizes().length,u=n.getCurrentGame().getGameConfig().getInstance().getOptionalPrizes()[o-1].prize_group,l=0,c=!1;if(C=Number(i.prize),c=i.display_prize,l=u>s?C*a*s/u:C*a,n.getCurrentGameStatistics().getMultipleDom().setMaxValue(r),c?($("#J-method-prize").show(),$("#J-method-prize").find("span").html(dsgame.util.formatMoney(l))):$("#J-method-prize").hide(),n.getCurrentGame().getCurrentGameMethod().miniTrend_updateTrend(),n.getCurrentGame().getCurrentGameMethod().defConfig.digitConf){var d=n.getCurrentGame().getCurrentGameMethod().defConfig,m=d.digitNeed||0,g=d.digitConf;n.getCurrentGame().initDigitStatus(m,g)}else n.getCurrentGameStatistics().setProjectNum(1),n.getCurrentGameStatistics().setDigitChoose([]);if(n.getCurrentGame().getCurrentGameMethod().defConfig.orderSplitType){var f=n.getCurrentGame().getCurrentGameMethod().defConfig.orderSplitType;n.getCurrentGame().getCurrentGameMethod().setOrderSplitType(f)}else n.getCurrentGame().getCurrentGameMethod().setOrderSplitType("")}),n.getCurrentGameTypes().addEvent("endShow",function(){this.changeMode(n.getCurrentGame().getGameConfig().getInstance().getDefaultMethodId())}),n.getCurrentGameTypes().addEvent("afterGametypesChange",function(e,t){var n=$(t),a="renxuan-is-visible";n.hasClass(a)?n.removeClass(a).text("任选玩法").siblings().show().filter(".gametypes-menu-renxuan").hide():n.addClass(a).text("普通玩法").siblings().hide().filter(".gametypes-menu-renxuan").show()}),$("#J-add-order").click(function(){var e=n.getCurrentGameStatistics().getResultData();!e.mid||e.amount<"0.02"||n.getCurrentGameOrder().add(e)}),n.getCurrentGameStatistics().addEvent("afterUpdate",function(e,t,a){var r=this,i=$("#J-add-order"),s=n.getCurrentGame().getGameConfig().getInstance().getMaxPrizeGroup(),u=n.getCurrentGame().getGameConfig().getInstance().getOptionalPrizes().length,l=n.getCurrentGame().getGameConfig().getInstance().getOptionalPrizes()[u-1].prize_group;if(t>0)if(a>="0.02"){i.removeClass("btn-disable");var c=r.getPrizeGroupRate()||0;r.setRebate(a,c),o.hide()}else o.show(o.getDom().width()/2*-1+i.width()/2,o.getDom().height()*-1-20,i),i.addClass("btn-disable"),r.setRebate(0);else i.addClass("btn-disable"),r.setRebate(0),o.hide();var d=C*Number(r.getMoneyUnit());l>s&&(d=C*Number(r.getMoneyUnit())*s/l),$("#J-method-prize").find("span").html(dsgame.util.formatMoney(d))});var b,y=$("#J-panel-order-list-cont");y.jScrollPane(),b=y.data("jsp"),n.getCurrentGameOrder().addEvent("afterChangeLotterysNum",function(e,t){var n=$("#J-submit-order"),a=$("#J-trace-switch"),r=e.data.orderData,i=!1,s=$(".J-cart-empty");if(t>0){for(var o=0;o<r.length;o++).001==r[o].moneyUnit?i=!0:"";i?(n.removeClass("btn-bet-disable"),a.addClass("btn-bet-disable")):n.add(a).removeClass("btn-bet-disable"),s.hide(),b.reinitialise()}else n.add(a).addClass("btn-bet-disable"),s.show()}),$("body").on("click",".remove-error",function(){n.getCurrentGame().getCurrentGameMethod().removeOrderError()}).on("click",".remove-same",function(){n.getCurrentGame().getCurrentGameMethod().removeOrderSame()}).on("click",".remove-all",function(){n.getCurrentGame().getCurrentGameMethod().removeOrderAll()}).on("click","[digit-status]",function(e){var t=$(this).parent().index();if(!n.getCurrentGame().digitStatusToggle(t))return!1}),n.getCurrentGame().addEvent("afterDigitStatusChange",function(e,t){$(".J-digit-num-choosed").text(n.getCurrentGame().getDigitChoosed().length),$(".J-digit-project-num").text(n.getCurrentGame().getProjectNum())}),n.getCurrentGame().addEvent("digitLabelsEvent",function(e,t){var a=$("[digit-status]",n.getCurrentGame().getCurrentGameMethod().container);a.eq(e).length&&a.eq(e).prop("checked",t)}),n.getCurrentGameStatistics().setMultiple(n.getCurrentGame().getGameConfig().getInstance().getDefaultMultiple()),n.getCurrentGameStatistics().setMoneyUnitDom(n.getCurrentGame().getGameConfig().getInstance().getDefaultCoefficient()),$("body").on("click","#J-submit-order",function(){n.getCurrentGameTrace().deleteTrace(),n.getCurrentGameSubmit().submitData()}),$("#J-trace-switch").click(function(){for(var e=n.getCurrentGameOrder().orderData,t=!1,a=0;a<e.length;a++)"0.001"==e[a].moneyUnit?t=!0:"";return!t&&($("#J-trace-statistics-balance").html($("[data-user-account-balance]").html()),n.getCurrentGameTrace().show(),!1)}),$("#J-trace-panel").on("click",".closeBtn",function(){n.getCurrentGameTrace().hide(),n.getCurrentGameTrace().deleteTrace()}),$("#J-button-trace-confirm").click(function(){n.getCurrentGameTrace().getIsTrace()&&(n.getCurrentGameTrace().hide(),n.getCurrentGameSubmit().submitData(),n.getCurrentGameTrace().deleteTrace())}),n.getCurrentGameSubmit().addEvent("beforeSend",function(e,t){var n=t.win.dom.find(".pop-control"),a=n.find("a.confirm");n.find("a.cancel");a.addClass("btn-disabled"),a.text("提交中..."),t.win.hideCancelButton()}),n.getCurrentGameSubmit().addEvent("afterSubmit",function(e,t){var n=t.win.dom.find(".pop-control"),a=n.find("a.confirm");n.find("a.cancel");a.removeClass("btn-disabled"),a.text("确 认"),$("#record-iframe").attr("src",$(".game-record-section >ul.tabs >li.current").attr("srclink")),$("[data-refresh-balance]:eq(0)").trigger("click")}),setTimeout(function(){$("html,body").animate({scrollTop:140},400)},1e3),$(".play-section").addClass("play-section-ssc")});