/*‮*/!function(e,t,n,a){var i,r={name:"ssc",jsNamespace:"",digitConf:[0,0,0,0,0],digitNeed:0},o=e.Games,s={init:function(){var e=this;e.eventProxy(),e.digitStatus=[],e.digitChoosed=[]},getGameConfig:function(){return o.SSC.Config},digitStatusToggle:function(e){var t=this,n=t.getDigitStatus(),a=!0;return n[e]=Number(!n[e]),t.setDigitChoosed(n),t.checkDigitStatus(n)?t.digitStatus=n:(n[e]=Number(!n[e]),a=!1,t.setDigitChoosed(n)),t.setProjectNum(),o.getCurrentGame().fireEvent("afterDigitStatusChange"),a},initDigitStatus:function(e,t){this.digitNeed=Number(e),this.digitStatus=t,this.setDigitChoosed(),this.setProjectNum()},getDigitStatus:function(e){return e&&this.digitStatus[e]||this.digitStatus},checkDigitStatus:function(){return digitChoosed=this.getDigitChoosed(),digitChoosed.length>=this.getDigitNeed()},getDigitNeed:function(){return this.digitNeed},setDigitChoosed:function(e){var t=this,e=e||t.getDigitStatus(),n=[];return $.each(e,function(e,t){var a=!1;t&&(n.push(e),a=!0),o.getCurrentGame().fireEvent("digitLabelsEvent",e,a)}),this.digitChoosed=n},getDigitChoosed:function(){return this.digitChoosed},getProjectNum:function(){return this.digitProjectNum},setProjectNum:function(){var e=this,t=e.k_combinations(e.getDigitChoosed(),e.getDigitNeed()),n=e.getProjectNum()||1;e.digitProjectNum=t.length||1,o.getCurrentGame().fireEvent("afterProjectNumSet",n,t)},combination:function(e){if(e.length<1)return[];var t,n,a,i=(e[0].length,e.length),r=[],o=[],s=[];for(r[t=i]=1;t--;)r[t]=r[t+1]*e[t].length;for(a=r[0],t=0;t<a;t++){for(s=[],n=0;n<i;n++)s[n]=e[n][~~(t%r[n]/r[n+1])];o[t]=s}return o},k_combinations:function(e,t){var n,a,i,r,o,s=this;if(t>e.length||t<=0)return[];if(t==e.length)return[e];if(1==t){for(i=[],n=0;n<e.length;n++)i.push([e[n]]);return i}for(i=[],n=0;n<e.length-t+1;n++)for(r=e.slice(n,n+1),o=s.k_combinations(e.slice(n+1),t-1),a=0;a<o.length;a++)i.push(r.concat(o[a]));return i},zx_combinations:function(e){function t(e,t){var n=[];return $.each(e,function(e,a){var i=[a];t&&t.length||n.push(a),$.each(t,function(e,t){if($.isArray(t))var a=t;else var a=[t];n.push(i.concat(a))})}),n}for(var n=[];e.length;){var a=e.pop();n=t(a,n)}return n}},u=e.Class(s,n);u.defConfig=r,u.getInstance=function(e){return i||(i=new u(e))},e.Games[t]=u}(betgame,"SSC",betgame.Game),function(e,t,n,a){var i,r=gameConfigData,o={},s={},u={};!function(){var e,t,n,a=r.wayGroups;$.each(a,function(){e=this,e.fullname_en=[e.name_en],e.fullname_cn=[e.name_cn],s[""+e.id]=e,e.children&&$.each(e.children,function(){t=this,t.fullname_en=e.fullname_en.concat(t.name_en),t.fullname_cn=e.fullname_cn.concat(t.name_cn),s[""+t.id]=t,t.children&&$.each(t.children,function(){n=this,n.fullname_en=t.fullname_en.concat(n.name_en),n.fullname_cn=t.fullname_cn.concat(n.name_cn),u[""+n.id]=n})})})}();var l={init:function(){},getGameId:function(){return r.gameId},getGameNameEn:function(){return r.gameNameEn},getGameNameCn:function(){return r.gameNameCn},getTraceMaxTimes:function(){return Number(r.traceMaxTimes)},getCurrentLastTime:function(){return r.currentNumberTime},getCurrentTime:function(){return r.currentTime},getCurrentGameNumber:function(){return r.currentNumber},getLastGameNumber:function(){var e=r.issueHistory.last_number.issue,t=r.issueHistory.issues[0].issue;return t>e&&(e=t),e},getLotteryBalls:function(){var e=r.issueHistory.last_number.wn_number,t=r.issueHistory.last_number.issue,n=r.issueHistory.issues[0].issue;return n>t&&(e=r.issueHistory.issues[0].wn_number),e||""},getLotteryNumbers:function(){return r.issueHistory.issues||[]},getFormatLotteryNumbers:function(e,t){var n=this,a={};return t=t?t:n.getLotteryNumbers(),e=e||"hour",$.each(t,function(t,i){var r=n.getKeyByDateStr(""+i.offical_time,e);r&&(a[r]||(a[r]=[]),a[r].push(i))}),a},getKeyByDateStr:function(e,t){e=e||"0",t=t||"hour";var n=new Date;if(n.setTime(1e3*parseInt(e)),"[object Date]"===Object.prototype.toString.call(n)){if(isNaN(n.getTime()))return"";var a=n.getMonth()+1,i=n.getDate(),r=n.getHours(),o=n.getMinutes();return a<10&&(a="0"+a),i<10&&(i="0"+i),r<10&&(r="0"+r),o<10&&(o="0"+o),"month"==t?a+"月":"day"==t?a+"月"+i+"日":"minute"==t?r+":"+o:r+":00"}return""},getGameNumbers:function(){return r.gameNumbers},getLimitByMethodId:function(e,t){var t=t||1,n=Number(this.getPrizeById(e).max_multiple);return n/t},getSubmitUrl:function(){return r.submitUrl},getUpdateUrl:function(){return r.loaddataUrl},getUploadPath:function(){return r.uploadPath},getJsPath:function(){return r.jsPath},getDefaultMethodId:function(){return r.defaultMethodId},getUserName:function(){return r.username},getDelayTime:function(){return 5},getLastGameBallsUrl:function(){return r.lastGameBallsUrl},getMethods:function(){return r.wayGroups},getMethodById:function(e){return u[""+e]},getPrizeById:function(e){return r.prizeSettings[""+e]},getMethodNodeById:function(e){return s[""+e]},getMethodNameById:function(e){var t,n=this.getMethodById(e);return n?t=n.name_en:$.each(u,function(n,a){return!t&&void(a.relation_series_ids&&$.each(a.relation_series_ids,function(n,i){if(i.series_way_id==e)return t=a.name_en,!1}))}),t||""},getMethodCnNameById:function(e){var t,n=this.getMethodById(e);return n?t=n.name_cn:$.each(u,function(n,a){return!t&&void(a.relation_series_ids&&$.each(a.relation_series_ids,function(n,i){if(i.series_way_id==e)return t=a.name_cn,!1}))}),t||""},getMethodFullNameById:function(e){var t,n=this.getMethodById(e);return n?t=n.fullname_en:$.each(u,function(n,a){return!t&&void(a.relation_series_ids&&$.each(a.relation_series_ids,function(n,i){if(i.series_way_id==e)return t=a.fullname_en,!1}))}),t||""},getMethodCnFullNameById:function(e){var t,n=this.getMethodById(e);return n?t=n.fullname_cn:$.each(u,function(n,a){return!t&&void(a.relation_series_ids&&$.each(a.relation_series_ids,function(n,i){if(i.series_way_id==e)return t=a.fullname_cn,!1}))}),t||""},getOnePriceById:function(e){return this.getMethodById(e).price},getToken:function(){return r._token},updateConfig:function(e){$.extend(!0,r,e)},getOptionalPrizes:function(){return r.optionalPrizes},setOptionalPrizes:function(){return $("#J-bonus-select-value").val()},getDefaultCoefficient:function(){return r.defaultCoefficient?r.defaultCoefficient:"1"},getDefaultMultiple:function(){return r.defaultMultiple?r.defaultMultiple:"1"},getLoadIssueUrl:function(){return r.loadIssueUrl},getUserPrizeGroup:function(){return r.userPrizeGroup},getSeriesWayId:function(e,t){var n=this.getMethodById(e).relation_series_ids||[],a=-1;return $.each(n,function(e,n){if(n.index==t)return a=n.series_way_id,!1}),a}},c=e.Class(l,n);c.defConfig=o,c.getInstance=function(e){return i||(i=new c(e))},e.Games.SSC[t]=c}(betgame,"Config",betgame.Event),function(e,t,n,a){var i,r={},o=e.Games,s={init:function(e){var t=this;o.setCurrentGameMessage(t)}},u=e.Class(s,n);u.defConfig=r,u.getInstance=function(e){return i||(i=new u(e))},e.Games.SSC[t]=u}(betgame,"Message",betgame.GameMessage),function(e,t,n,a){var i={name:"wuxing.zhixuan.danshi",editorobj:".content-text-balls",uploadButton:"#file",exampleText:"12345 33456 87898 <br />12345 33456 87898 <br />12345 33456 87898 ",tips:"五星直选单式玩法提示",exampleTip:"这是单式弹出层提示",checkFont:/[\u4E00-\u9FA5]|[\/\n]|[\/W]/g,filtration:/[\s]|[,]|[;]|[<br>]|[，]|[；]/g,checkNum:/^[0-9]*$/,normalTips:["输入的注单请参照如下规则：","1、单注内各号码保持相连，不同注号码间用分隔符隔开","2、每一注号码之间的间隔符支持 回车  空格[ ]   逗号[,]   分号[;]","3、导入文本内容后将覆盖文本框中现有的内容。","4、一次投注支持100,000注！"].join("\n")},r="SSC",o=e.Games,s=e.Games[r],u={init:function(e){var t=this;t.ieRange="",t.vData=[],t.aData=[],t.tData=[],t.errorData=[],t.sameData=[],t.firstfocus=!0,t.ranNumTag=!1,t.isFirstAdd=!0,o.getCurrentGameOrder().addEvent("beforeAdd",function(e,n){t.tData;n.type==t.defConfig.name&&(t.isFirstAdd?t.ranNumTag||(n.lotterys=[],t.isFirstAdd=null,t.updateData(),o.getCurrentGameOrder().add(o.getCurrentGameStatistics().getResultData())):(""==t.errorData.join("")&&""==t.sameData.join("")||t.ballsErrorTip(),t.isFirstAdd=!0))})},initTextarea:function(){var e=this,t="content-textarea-balls-def",n=e.defConfig,a=$.trim(n.normalTips);e.importTextarea=$('<textarea class="content-textarea-balls '+t+'">'+a+"</textarea>"),e.container.find(".panel-select").html("").append(e.importTextarea),e.importTextarea.focus(function(){var n=$.trim(this.value);n==a&&(this.value="",e.importTextarea.removeClass(t))}).blur(function(){var t=$.trim(this.value);""==t&&(e.removeOrderAll(),e.showNormalTips())}).keyup(function(){e.updateData()})},initFrame:function(){var e=this;e.initTextarea(),e.bindPressTextarea()},getExampleText:function(){return this.defConfig.exampleText},rebuildData:function(){var e=this;e.balls=[[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]]},buildUI:function(){var e=this;e.container.html(e.getHTML())},reSelect:function(){},batchSetBallDom:function(){},getNormalTips:function(){return this.defConfig.normalTips},showNormalTips:function(){var e=this,t="content-textarea-balls-def";e.importTextarea&&e.importTextarea.addClass(t),e.replaceText(e.getNormalTips.call(e))},_bulidEditDom:function(){var e=this,t="";e.doc.designMode="On",e.doc.contentEditable=!0,e.doc.open(),t='<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',t+="<style>*{margin:0;padding:0;font-size:14px;}</style>",t+="</head>",e.doc.writeln("<html>"+t+'<body style="word-break: break-all">'+e.getNormalTips()+"</body></html>"),e.doc.close(),e.bindPress(),document.all&&(e.doc.onkeypress=function(){return e._ieEnter()}),e.dragUpload()},dragUpload:function(){var e=this,t=e.importTextarea;window.FileReader&&(t.bind("dragover",function(e){e.preventDefault(),e.stopPropagation()}),t.get(0).addEventListener("drop",function(t){t.preventDefault(),t.stopPropagation();var n=t.dataTransfer.files,a=n[0],i=new FileReader,r=a.type?a.type:"n/a";"text/plain"==r&&(i.onload=function(t){var n=t.target.result;""!=$.trim(n)&&(e.replaceText(n),e.updateData())},i.readAsText(a))},!1))},_ieEnter:function(){var e=this,t=e.win.event;if(13==t.keyCode)return this._saveRange(),this._insert("<br/>"),!1},_insert:function(e){var t=this;if(t.ieRange)t.ieRange.pasteHTML(e),t.ieRange.select(),t.ieRange=!1;else if(t.win.focus(),document.all)t.doc.body.innerHTML+=e;else{var n=win.getSelection(),a=n.getRangeAt(0),i=a.createContextualFragment(e);a.insertNode(i)}},_saveRange:function(){if(document.all&&!me.ieRange){var e=me.doc.selection;if(me.ieRange=e.createRange(),"Control"!=e.type){var t=me.ieRange.parentElement();"INPUT"!=t.tagName&&t!=document.body||(me.ieRange=!1)}}},getHtml:function(){var e=this,t=e.importTextarea?e.importTextarea.val():"";return t},replaceText:function(e){var t=this;t.importTextarea&&t.importTextarea.val(e)},bindPressTextarea:function(){var e=this,t=e.container.find(e.defConfig.uploadButton);window.navigator.userAgent.toLowerCase();t.bind("change",function(){var t=$(this).parent();e.checkFile(this,t)})},bindPress:function(){var e=this,t=e.container.find(e.defConfig.uploadButton),n=window.navigator.userAgent.toLowerCase();$(e.doc).bind("input",function(){e.updateData()}),n.indexOf("msie")>0&&($(e.doc.body).bind("keyup",function(){e.updateData()}),$(e.doc.body).bind("blur",function(){e.updateData()})),$(e.doc).bind("focus",function(){e.firstfocus&&(e.replaceText(" "),e.firstfocus=!1)}),$(e.doc).bind("blur",function(){var t=e.getText();""==$.trim(t)?e.showNormalTips():e.updateData()}),$(e.doc.body).bind("focus",function(){e.firstfocus&&(e.replaceText(" "),e.firstfocus=!1)}),$(e.doc.body).bind("blur",function(){var t=e.getText();""==$.trim(t)?e.showNormalTips():e.updateData()}),t.bind("change",function(){var t=$(this).parent();e.checkFile(this,t)})},iterator:function(e){var t,n=this,a=n.defConfig,i=[],r=[];return e=$.trim(e),e=e.replace(a.filtration,"|"),e=e.replace(/\s+/g," "),e=$.trim(e),r=e.split("|"),$.each(r,function(e){t=$.trim(this),""!=t&&i.push(t)}),i},checkResult:function(e,t){for(var n=t.length-1;n>=0;n--)if(t[n].join("")==e)return!1;return!0},filterLotters:function(e){var t=this,n="";return n=e.replace(/<br>+|&nbsp;+/gi," "),n=n.replace(/\s\s|[\s]|[,]+|[;]+|[，]+|[；]+/gi," "),n=n.replace(/<(?:"[^"]*"|'[^']*'|[^>'"]*)+>/g," "),n=n.replace(t.defConfig.checkFont,"")+" "},checkSingleNum:function(e){var t=this;return t.defConfig.checkNum.test(e)&&e.length==t.balls.length},checkBallIsComplete:function(e){var t=this;t.aData=[],t.vData=[],t.sameData=[],t.errorData=[],t.tData=[],result=[],result=t.iterator(t.filterLotters(e)).sort()||[];for(var n=result.length;n--;){if(t.checkSingleNum(result[n])){var a=result[n];a==result[n+1]?t.sameData.push(result[n].split("")):t.tData.push(result[n].split("")),t.vData.push(result[n].split(""))}else t.errorData.push(result[n].split(""));t.aData.push(result[n].split(""))}return t.tData.length>0?(t.isBallsComplete=!0,t.isFirstAdd?t.vData:t.tData):(t.isBallsComplete=!1,[])},countInstances:function(e,t){var n=[],a=0;do a=e.indexOf(t,a),a!=-1&&(n.push(a),a+=t.length);while(a!=-1);return n},removeOrderError:function(){var e=this,t=[],n=0,a=e.tData.length;for(n=0;n<a;n++)t[n]=e.tData[n].join("");t=$.trim(t.join(" ")),e.errorDataTips(),e.replaceText(t),e.errorData=[],e.sameData=[],""==t&&e.showNormalTips(),e.updateData()},removeOrderSame:function(){var e=this,t=[],n=0,a=e.tData.length;for(n=0;n<a;n++)t[n]=e.tData[n].join("");t=$.trim(t.join(" ")),e.sameDataTips(),e.replaceText(t),e.errorData=[],e.sameData=[],""==t&&e.showNormalTips(),e.updateData()},removeOrderAll:function(){var e=this;e.replaceText(" "),e.sameData=[],e.aData=[],e.tData=[],e.vData=[],o.getCurrentGameStatistics().reSet(),e.showNormalTips(),e.updateData()},checkFile:function(e,t){var n=e.value,a=n.substring(n.lastIndexOf("."),n.length),a=a.toLowerCase();return".txt"!=a?(alert("对不起，导入数据格式必须是.txt格式文件哦，请您调整格式后重新上传，谢谢 ！"),!1):void t[0].submit()},getFile:function(e){var t=this,n=t.container.find(":reset");e&&(t.replaceText(e),t.firstfocus=!1,t.updateData(),n.click())},errorTip:function(e,t){var n=this;alert(n.errorData.join())},sameDataTips:function(){var e=this,t=e.sameData,n="",a=o.getCurrentGameMessage(),i=[];if(""!=t.join("")){for(var r=0;r<t.length;r++)$.trim(t[r].join(""))&&i.push(t[r].join(""));n='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码重复，已进行自动过滤</h4><p class="pop-text" style="display:block">'+i.join(", ")+"</p>",a.show({type:"normal",closeText:"确定",closeFun:function(){this.hide()},data:{tplData:{msg:n}}})}},errorDataTips:function(){var e=this,t=e.errorData,n="",a=o.getCurrentGameMessage(),i=[];if(""!=t.join("")){for(var r=0;r<t.length;r++)$.trim(t[r].join(""))&&i.push(t[r].join(""));n='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码错误，已进行自动过滤</h4><p class="pop-text" style="display:block">'+i.join(", ")+"</p>",a.show({type:"normal",closeText:"确定",closeFun:function(){this.hide()},data:{tplData:{msg:n}}})}},ballsErrorTip:function(e,t){var n=this,a=n.errorData,i=n.sameData,r="",s="",u=o.getCurrentGameMessage(),l=[],c=[];if(""!=i.join("")){for(var f=0;f<i.length;f++)$.trim(i[f].join(""))&&c.push(i[f].join(""));s='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码重复，已进行自动过滤</h4><p class="pop-text" style="display:block">'+c.join(", ")+"</p>"}if(""!=a.join("")){for(var f=0;f<a.length;f++)$.trim(a[f].join(""))&&l.push(a[f].join(""));r='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码错误，已进行自动过滤</h4><p class="pop-text" style="display:block">'+l.join(", ")+"</p>"}u.show({type:"normal",closeText:"确定",closeFun:function(){this.hide()},data:{tplData:{msg:r}}})},reSet:function(){var e=this;e.isBallsComplete=!1,e.rebuildData(),e.updateData(),e.ranNumTag||e.showNormalTips(),e.removeRanNumTag()},formatViewBalls:function(e){for(var t=[],n=e.length,a=0;a<n;a++)t[a]=e[a].join("");var i=t.join("|");return i},makePostParameter:function(e,t){for(var n=[],e=t.lotterys,a=e.length,i=0;i<a;i++)n[i]=e[i].join("");return n.join("|")},getLottery:function(){var e=this,t=e.getHtml();if(""!=t)return e.checkBallIsComplete(t)},removeSameNum:function(e){var t,n=0,a=this,i=this.getBallData()[0].length;for(len=e.length,t=Math.floor(Math.random()*i);n<e.length;n++)if(t==e[n])return arguments.callee.call(a,e);return t},emptySameData:function(){this.sameData=[]},emptyErrorData:function(){this.errorData=[]},addRanNumTag:function(){var e=this;e.ranNumTag=!0,e.emptySameData(),e.emptyErrorData()},getTdata:function(){return this.tData},getOriginal:function(){return this.getTdata()},removeRanNumTag:function(){this.ranNumTag=!1},checkRandomBets:function(e,t){var n=this,a="undefined"==typeof e,e=e||{},i=[],t=t||0,r=(n.getBallData().length,n.getBallData()[0].length,o.getCurrentGameOrder().getTotal().orders);if(i=n.createRandomNum(),Number(t)>Number(n.getRandomBetsNum()))return i;if(a)for(var s=0;s<r.length;s++)if(r[s].type==n.defConfig.name){var u=r[s].original.join("").replace(/,/g,"");e[u]=u}return e[i.join("")]?(t++,arguments.callee.call(n,e,t)):i},randomNum:function(){var e=this,t=[],n=null,a=(e.getBallData(),e.defConfig.name,o.getCurrentGame().getCurrentGameMethod().getGameMethodName()),i=[],r=[];return e.addRanNumTag(),t=e.checkRandomBets(),r=t,i=e.combination(r),n={type:a,original:r,lotterys:i,moneyUnit:o.getCurrentGameStatistics().getMoneyUnit(),multiple:o.getCurrentGameStatistics().getMultip(),onePrice:o.getCurrentGame().getGameConfig().getInstance().getOnePrice(a),num:i.length},n.amountText=o.getCurrentGameStatistics().formatMoney(n.num*n.moneyUnit*n.multiple*n.onePrice),n},getHTML:function(){var e=o.getCurrentGame().getGameConfig().getInstance().getUploadPath(),t=o.getCurrentGame().getGameConfig().getInstance().getToken(),n=[];return n.push('<div class="balls-import clearfix">'),n.push('<form id="form1" name="form1" enctype="multipart/form-data" method="post" action="'+e+'" target="check_file_frame" style="position:relative;padding-bottom:10px;">'),n.push('<input name="_token" type="hidden" value="'+t+'" />'),n.push('<a style="display:none;" class="balls-example-danshi-tip" href="#">查看标准格式样本</a>'),n.push('<input type="reset" style="outline:none;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0);filter:alpha(opacity=0);opacity: 0;width:0px; height:0px;z-index:1;background:#000" />'),n.push('<iframe src="'+e+'" name="check_file_frame" style="display:none;"></iframe>'),n.push("</form>"),n.push('<div class="panel-select"><iframe style="width:100%;height:100%;border:0 none;background-color:#F9F9F9;" class="content-text-balls"></iframe></div>'),n.push('<div class="panel-btn">'),n.push('<a class="btn remove-error" href="javascript:void(0);">删除错误项</a>'),n.push('<a class="btn remove-same" href="javascript:void(0);">删除重复项</a>'),n.push('<a class="btn remove-all" href="javascript:void(0);">清空文本框</a>'),n.push("</div>"),n.push("</div>"),n.join("")}},l=e.Class(u,n);l.defConfig=i,s[t]=l}(betgame,"Danshi",betgame.GameMethod);